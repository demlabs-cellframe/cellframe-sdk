# –°—Ç–∞—Ç—É—Å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–æ–¥—É–ª—è ledger

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ê–í–ò–õ–ê –î–õ–Ø –ò–ò (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ö –ò–°–ü–û–õ–ù–ï–ù–ò–Æ)

### ‚õî –ü–†–ê–í–ò–õ–û #1: –ù–ò–ö–û–ì–î–ê –ù–ï –°–û–ó–î–ê–í–ê–¢–¨ –í–†–ï–ú–ï–ù–ù–´–ï –†–ï–®–ï–ù–ò–Ø

**–ß–¢–û –ó–ê–ü–†–ï–©–ï–ù–û:**
- ‚ùå –ö–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥ –≤–º–µ—Å—Ç–æ –µ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚ùå –î–æ–±–∞–≤–ª—è—Ç—å TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚ùå –ü–∏—Å–∞—Ç—å –∑–∞–≥–ª—É—à–∫–∏ —Ç–∏–ø–∞ "// TEMP: disabled"
- ‚ùå –û—Å—Ç–∞–≤–ª—è—Ç—å –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–∞—Ä—ã–π –∫–æ–¥
- ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–Ω—É—é –∫–æ–º–ø–∏–ª—è—Ü–∏—é (#ifdef) –¥–ª—è –æ–±—Ö–æ–¥–∞ –ø—Ä–æ–±–ª–µ–º

**–ß–¢–û –¢–†–ï–ë–£–ï–¢–°–Ø:**
- ‚úÖ –í–°–ï–ì–î–ê —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ callbacks
- ‚úÖ –í–°–ï–ì–î–ê —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã callback'–æ–≤ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- ‚úÖ –í–°–ï–ì–î–ê —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å callbacks –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –º–æ–¥—É–ª—è—Ö
- ‚úÖ –í–°–ï–ì–î–ê —É–¥–∞–ª—è—Ç—å —Å—Ç–∞—Ä—ã–π –∫–æ–¥, –Ω–µ –æ—Å—Ç–∞–≤–ª—è—Ç—å –µ–≥–æ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º

**–ü–†–ò–ú–ï–† –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û–ì–û –ü–û–î–•–û–î–ê:**
```c
// TODO: This needs callback
// TEMP: Disabled due to refactoring
// dap_chain_t *l_chain = ...
// if (l_chain) { ... }
```

**–ü–†–ò–ú–ï–† –ü–†–ê–í–ò–õ–¨–ù–û–ì–û –ü–û–î–•–û–î–ê:**
```c
// 1. –°–æ–∑–¥–∞—Ç—å callback –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:
typedef uint256_t (*dap_ledger_calc_reward_callback_t)(
    dap_ledger_t *a_ledger, 
    dap_hash_fast_t *a_block_hash, 
    dap_pkey_t *a_block_sign_pkey
);

// 2. –î–æ–±–∞–≤–∏—Ç—å –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
typedef struct dap_ledger {
    dap_ledger_calc_reward_callback_t calc_reward_callback;
    // ...
} dap_ledger_t;

// 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
if (a_ledger->calc_reward_callback) {
    l_value = a_ledger->calc_reward_callback(a_ledger, l_block_hash, l_pkey);
} else {
    log_it(L_WARNING, "calc_reward_callback not registered");
    return -1;  // –Ø–≤–Ω–∞—è –æ—à–∏–±–∫–∞, –Ω–µ –º–æ–ª—á–∞–ª–∏–≤–æ–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
}
```

**–ü–û–ß–ï–ú–£ –≠–¢–û –ö–†–ò–¢–ò–ß–ù–û:**
1. –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –ù–ò–ö–û–ì–î–ê –Ω–µ –∏—Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–æ–∑–∂–µ
2. –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ —Å–æ–∑–¥–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥
3. TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ "–º–µ—Ä—Ç–≤—ã–π –∫–æ–¥"
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–µ—Ä—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–µ–∑–∞–º–µ—Ç–Ω–æ
5. –ù–∞—Ä—É—à–∞–µ—Ç—Å—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

**–ï–°–õ–ò –ù–ï–Ø–°–ù–û –ö–ê–ö –†–ï–®–ò–¢–¨:**
1. –ò—Å—Å–ª–µ–¥—É–π –∫–æ–¥–æ–≤—É—é –±–∞–∑—É (Grep, SemanticSearch)
2. –ù–∞–π–¥–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö
3. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π callback –ø–æ –æ–±—Ä–∞–∑—Ü—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö
4. –°–ø—Ä–æ—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –ø–æ—Å–ª–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Ä–µ—à–µ–Ω–∏–µ –Ω–µ–æ—á–µ–≤–∏–¥–Ω–æ

### ‚õî –ü–†–ê–í–ò–õ–û #2: –í–°–ï–ì–î–ê –ó–ê–í–ï–†–®–ê–¢–¨ –†–ï–§–ê–ö–¢–û–†–ò–ù–ì –î–û –ö–û–ù–¶–ê

**–ù–ï–î–û–ü–£–°–¢–ò–ú–û:**
- –û—Å—Ç–∞–≤–ª—è—Ç—å –ø–æ–ª–æ–≤–∏–Ω—É —Ñ—É–Ω–∫—Ü–∏–π —Å —Å—Ç–∞—Ä—ã–º API
- –î–µ–ª–∞—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ "—á–∞—Å—Ç–∏—á–Ω–æ"
- –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–¥–∞—á–µ, –Ω–µ –∑–∞–≤–µ—Ä—à–∏–≤ —Ç–µ–∫—É—â—É—é

**–¢–†–ï–ë–£–ï–¢–°–Ø:**
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –í–°–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–Ω–æ–≥–æ API
- –û–±–Ω–æ–≤–∏—Ç—å –í–°–ï –≤—ã–∑—ã–≤–∞—é—â–∏–µ –º–æ–¥—É–ª–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é –ü–ï–†–ï–î –∫–æ–º–º–∏—Ç–æ–º

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

### ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

1. **–£–¥–∞–ª–µ–Ω–æ –ø–æ–ª–µ `net` –∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `dap_ledger_t`**
   - Ledger –±–æ–ª—å—à–µ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É –Ω–∞ net
   - –†–∞–∑–æ—Ä–≤–∞–Ω–∞ –ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö

2. **–ò–∑–º–µ–Ω–µ–Ω—ã API —Ñ—É–Ω–∫—Ü–∏–π ledger**
   - `dap_ledger_create(uint16_t a_flags)` - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç net
   - `dap_ledger_decree_apply(dap_chain_net_t *a_net, ...)` - net –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —è–≤–Ω–æ
   - `dap_ledger_decree_load(dap_chain_net_t *a_net, ...)` - net –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —è–≤–Ω–æ
   - `dap_ledger_anchor_load(dap_chain_net_t *a_net, ...)` - net –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —è–≤–Ω–æ
   - `dap_ledger_anchor_unload(dap_chain_net_t *a_net, ...)` - net –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —è–≤–Ω–æ

3. **–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–ª–ª–±—ç–∫–æ–≤ –¥–ª—è anchor unload**
   - `typedef dap_ledger_anchor_unload_callback_t` - —Ç–∏–ø –∫–æ–ª–ª–±—ç–∫–∞
   - `dap_ledger_anchor_unload_set_callback()` - —Ñ—É–Ω–∫—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
   - –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

4. **–£–±—Ä–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –∏–∑ ledger**
   - –£–¥–∞–ª—ë–Ω –≤–µ—Å—å switch —Å –ø—Ä—è–º—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏ net/consensus/services –∏–∑ `anchor_unload`
   - –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã –≤ `decree` –æ–±—Ä–∞–±–æ—Ç–∫–µ
   - –í—Å—è –ª–æ–≥–∏–∫–∞ —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –∫–æ–ª–ª–±—ç–∫–∞—Ö

5. **–£–±—Ä–∞–Ω –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω DAP_LEDGER_TEST**
   - –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ #ifdef DAP_LEDGER_TEST –±–ª–æ–∫–∏
   - –ö–æ–¥ —Å—Ç–∞–ª –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º

6. **–°–æ–∑–¥–∞–Ω—ã –Ω–æ–≤—ã–µ API —Ñ—É–Ω–∫—Ü–∏–∏**
   - `dap_ledger_set_hal_hrl()` - –¥–ª—è setup whitelist/blacklist –∏–∑ net
   - `dap_ledger_set_blockchain_timer()` - –¥–ª—è setup —Ç–∞–π–º–µ—Ä–æ–≤ –∏–∑ net
   - `dap_ledger_tx_poa_signed(dap_list_t *a_poa_keys, ...)` - –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç ledger->net

7. **–î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –≤ –°–õ–ö**
   - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∞–≤–∏–ª–æ CMAKE: –ù–ò–ö–û–ì–î–ê –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å target_include_directories –¥–ª—è —á—É–∂–∏—Ö –º–æ–¥—É–ª–µ–π
   - –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –ü—Ä–∞–≤–∏–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –º–æ–¥—É–ª–∏ dap_sdk_project.json –∏ cellframe_sdk.json

## –û—Å—Ç–∞–≤—à–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã

### ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `a_ledger->net` (44 –º–µ—Å—Ç–∞)

–ö–æ–¥ ledger –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª—è net —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

**–í —Ñ–∞–π–ª–µ dap_chain_ledger_tx.c (20 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π)**:
- `a_ledger->net->pub.id` - –ø—Ä–æ–≤–µ—Ä–∫–∞ net_id
- `a_ledger->net->pub.native_ticker` - –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ —Ç–∏–∫–µ—Ä–∞
- `a_ledger->net->pub.fee_value` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–∏—Å—Å–∏–∏
- `a_ledger->net->pub.fee_addr` - –∞–¥—Ä–µ—Å –∫–æ–º–∏—Å—Å–∏–∏
- `a_ledger->net->pub.chains` - –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ —Ü–µ–ø—è–º

**–í —Ñ–∞–π–ª–µ dap_chain_ledger_decree.c (9 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π)**:
- `a_ledger->net->pub.keys` - PoA –∫–ª—é—á–∏
- `a_ledger->net->pub.keys_min_count` - –º–∏–Ω–∏–º—É–º –∫–ª—é—á–µ–π
- `a_ledger->net->pub.name` - –∏–º—è —Å–µ—Ç–∏
- `a_ledger->net->pub.chains` - —Ü–µ–ø–∏ —Å–µ—Ç–∏

**–í —Ñ–∞–π–ª–µ dap_chain_ledger_token.c (4 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)**:
- `a_ledger->net` - –≤—ã–∑–æ–≤ `dap_chain_net_get_load_mode()`
- `a_ledger->net->pub.name` - –∏–º—è —Å–µ—Ç–∏ –¥–ª—è –ª–æ–≥–æ–≤
- `a_ledger->net` - –ø–æ–ª—É—á–µ–Ω–∏–µ default chain

**–í —Ç–µ—Å—Ç–∞—Ö (3 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)**:
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –æ—á–∏—Å—Ç–∫–∞ test ledger

### ‚ö†Ô∏è –§—É–Ω–∫—Ü–∏–∏ —Ç—Ä–µ–±—É—é—â–∏–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

1. **–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ tx –≤–∞–ª–∏–¥–∞—Ü–∏–∏** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç fee, native_ticker, net_id
2. **–§—É–Ω–∫—Ü–∏–∏ token** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç load_mode, chains
3. **–§—É–Ω–∫—Ü–∏–∏ decree** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç PoA keys
4. **–§—É–Ω–∫—Ü–∏–∏ event** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç srv_uid –ø—Ä–æ–≤–µ—Ä–∫–∏

## –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### –í–∞—Ä–∏–∞–Ω—Ç A: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è (–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –Ω–æ –¥–æ–ª–≥–æ)

–ò–∑–º–µ–Ω–∏—Ç—å API –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–æ–±–∞–≤–∏–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```c
// –ë–´–õ–û:
int dap_ledger_tx_add(dap_ledger_t *a_ledger, ...)

// –°–¢–ê–õ–û:
int dap_ledger_tx_add(dap_ledger_t *a_ledger, 
                      dap_chain_net_id_t a_net_id,
                      const char *a_native_ticker,
                      uint256_t a_fee_value,
                      dap_chain_addr_t *a_fee_addr,
                      ...)
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã: 8-12 —á–∞—Å–æ–≤**

### –í–∞—Ä–∏–∞–Ω—Ç B: –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–±—ã—Å—Ç—Ä–µ–µ, —ç–ª–µ–≥–∞–Ω—Ç–Ω–µ–µ)

–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–µ—Ç–∏ –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏:

```c
typedef struct dap_ledger_net_context {
    dap_chain_net_id_t net_id;
    const char *native_ticker;
    uint256_t fee_value;
    dap_chain_addr_t fee_addr;
    dap_list_t *poa_keys;
    uint16_t poa_keys_min_count;
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è
} dap_ledger_net_context_t;

int dap_ledger_tx_add(dap_ledger_t *a_ledger, 
                      dap_ledger_net_context_t *a_net_ctx,
                      ...)
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã: 4-6 —á–∞—Å–æ–≤**

### –í–∞—Ä–∏–∞–Ω—Ç C: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

- –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (net_id, native_ticker) - —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –†–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ - —á–µ—Ä–µ–∑ –∫–æ–ª–ª–±—ç–∫–∏
- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (tx_add, token_add) - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã: 6-8 —á–∞—Å–æ–≤**

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–±–æ—Ä–∫–∏

### ‚ùå –ù–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è

–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞: 44 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `a_ledger->net` –∫–æ—Ç–æ—Ä–æ–µ –±–æ–ª—å—à–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è —Å–±–æ—Ä–∫–∏:

1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `a_ledger->net` (44 –º–µ—Å—Ç–∞)
2. –û–±–Ω–æ–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã –∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ –º–æ–¥—É–ª–µ net
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–ª–ª–±—ç–∫–∏ –≤ net/consensus/services –º–æ–¥—É–ª—è—Ö
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

**–†–µ–∫–æ–º–µ–Ω–¥—É—é –í–∞—Ä–∏–∞–Ω—Ç C (–ì–∏–±—Ä–∏–¥–Ω—ã–π):**

1. –°–æ–∑–¥–∞—Ç—å `dap_ledger_net_context_t` –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ net-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
2. –ò–∑–º–µ–Ω–∏—Ç—å API –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (tx_add, token_add, decree_apply)
3. –û—Å—Ç–∞–ª—å–Ω–æ–µ —á–µ—Ä–µ–∑ –∫–æ–ª–ª–±—ç–∫–∏
4. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:**
–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –Ω–∞—á–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–π –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É.

–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?



