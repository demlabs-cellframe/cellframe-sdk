# CellFrame SDK - Документация

## Обзор

CellFrame SDK - это программный комплекс для разработки децентрализованных приложений и блокчейн-решений с поддержкой различных алгоритмов консенсуса и модульной архитектурой сервисов.

## Структура документации

- [Архитектура системы](./architecture.md) - Общая архитектура и принципы работы
- [Модули](./modules/) - Документация по отдельным модулям
  - [Chain Module](./modules/chain.md) - Блокчейн цепочки
  - [Wallet Module](./modules/wallet.md) - Управление кошельками
  - [Common Module](./modules/common.md) - Общие структуры данных
- [API Reference](./api/) - Справочник по API
- [Примеры использования](./examples/) - Практические примеры кода
- [Скрипты запуска](./scripts/) - Скрипты для запуска MCP серверов

## Быстрый старт

### Установка

```bash
# Клонирование репозитория
git clone <repository-url>
cd cellframe-sdk

# Сборка с базовыми модулями
mkdir build && cd build
cmake -DCELLFRAME_MODULES="core chains network" ..
make -j$(nproc)
```

### MCP сервер для интеграции с AI

CellFrame SDK включает Model Context Protocol (MCP) сервер для интеграции с AI-системами:

```bash
# Запуск MCP сервера
./docs/scripts/start_mcp_servers.sh start cellframe_sdk

# Или запуск всех MCP серверов
./docs/scripts/start_mcp_servers.sh start all
```

MCP сервер предоставляет инструменты для:
- Анализа модулей блокчейн цепочки
- Изучения сервисных модулей
- Анализа алгоритмов консенсуса
- Анализа конфигурации сборки
- Поиска примеров транзакций

### Базовое использование

```c
#include "dap_chain.h"
#include "dap_chain_net.h"

int main() {
    // Инициализация CellFrame SDK
    dap_chain_init();

    // Создание новой цепочки
    dap_chain_t* chain = dap_chain_new("my_chain");

    // Ваш код здесь

    // Очистка ресурсов
    dap_chain_free(chain);
    dap_chain_deinit();

    return 0;
}
```

## Основные модули

### Chain (Блокчейн цепочка)
- **Путь**: `modules/chain/`
- **Описание**: Основная функциональность блокчейн цепочки
- **Компоненты**: Блоки, транзакции, атомы, DAG структура
- **Документация**: [Chain Module](./modules/chain.md)

### Wallet (Кошелек)
- **Путь**: `modules/wallet/`
- **Описание**: Управление криптовалютными кошельками
- **Функции**: Создание ключей, подписание транзакций, управление балансами
- **Документация**: [Wallet Module](./modules/wallet.md)

### Net (Сеть)
- **Путь**: `modules/net/`
- **Описание**: Сетевая коммуникация и пиринг
- **Протоколы**: TCP/UDP, WebSocket, HTTP

### Consensus (Консенсус)
- **Путь**: `modules/consensus/`
- **Описание**: Алгоритмы достижения консенсуса
- **Поддержка**:
  - DAG PoA (Proof of Authority)
  - DAG PoS (Proof of Stake)
  - Block PoW (Proof of Work)
  - ESBOCS (Enhanced Scalable Blockchain Consensus)

### Common (Общие структуры)
- **Путь**: `modules/common/`
- **Описание**: Общие структуры данных и утилиты
- **Компоненты**: Датумы, токены, декреты, голосования
- **Документация**: [Common Module](./modules/common.md)

### Service (Сервисы)
- **Путь**: `modules/service/`
- **Описание**: Дополнительные сервисы платформы
- **Сервисы**:
  - VPN - Виртуальная частная сеть
  - Staking - Делегирование токенов
  - Exchange - Обмен токенами
  - Bridge - Межсетевые мосты

## Алгоритмы консенсуса

CellFrame SDK поддерживает несколько алгоритмов консенсуса:

### DAG-based консенсус

#### DAG PoA (Proof of Authority)
- **Описание**: Авторитетный консенсус на основе DAG структуры
- **Применение**: Частные сети с доверенными валидаторами
- **Преимущества**: Высокая производительность, предсказуемость

#### DAG PoS (Proof of Stake)
- **Описание**: Консенсус на основе доли владения токенами
- **Применение**: Публичные сети с экономическими стимулами
- **Преимущества**: Энергоэффективность, безопасность

### Block-based консенсус

#### Block PoW (Proof of Work)
- **Описание**: Классический proof-of-work консенсус
- **Применение**: Публичные сети требующие высокой безопасности
- **Преимущества**: Проверенная безопасность, децентрализация

#### ESBOCS (Enhanced Scalable Blockchain Consensus)
- **Описание**: Улучшенный масштабируемый блокчейн консенсус
- **Применение**: Высокопроизводительные корпоративные решения
- **Преимущества**: Масштабируемость, производительность

## Система сборки

### Конфигурация модулей

CellFrame SDK использует модульную систему сборки:

```cmake
# Базовые модули
set(CELLFRAME_MODULES "core chains network")

# Добавление консенсуса
set(CELLFRAME_MODULES "${CELLFRAME_MODULES} cs-dag-poa cs-esbocs")

# Добавление сервисов
set(CELLFRAME_MODULES "${CELLFRAME_MODULES} srv-vpn srv-stake srv-xchange")

# Сборка с тестами
set(BUILD_CELLFRAME_SDK_TESTS ON)
```

### Поддерживаемые платформы

- **Linux**: Полная поддержка всех функций
- **macOS**: Полная поддержка всех функций
- **Windows**: Поддержка основных функций
- **Android**: Ограниченная поддержка через JNI

## Безопасность

### Криптографические функции

CellFrame SDK наследует криптографические возможности DAP SDK:

- **Пост-квантовые алгоритмы**: Kyber, Falcon, SPHINCS+
- **Классические алгоритмы**: AES, SHA-256, ECDSA
- **Хеш-функции**: SHA-3, Blake2b, XKCP

### Защита сети

- **Шифрование трафика**: TLS 1.3, Quantum-resistant KEM
- **Аутентификация**: Сертификаты, цифровые подписи
- **Авторизация**: Ролевая модель, политики доступа

## Производительность

### Оптимизации

- **Параллельная обработка**: Многопоточная архитектура
- **Оптимизированные структуры данных**: Эффективное хранение блоков
- **Кэширование**: Умное кэширование состояний
- **Сжатие данных**: Эффективное сжатие блоков

### Бенчмарки

| Операция | Производительность |
|----------|-------------------|
| Создание транзакции | ~10,000 tx/sec |
| Валидация блока | ~1,000 blocks/sec |
| Синхронизация сети | ~100 MB/sec |
| Обработка DAG | ~50,000 events/sec |

## Разработка

### Структура проекта

```
cellframe-sdk/
├── modules/           # Основные модули
│   ├── chain/        # Блокчейн цепочка
│   ├── wallet/       # Кошелек
│   ├── net/          # Сеть
│   ├── consensus/    # Консенсус
│   └── service/      # Сервисы
├── 3rdparty/         # Сторонние библиотеки
├── docs/            # Документация
└── CMakeLists.txt   # Система сборки
```

### Создание кастомного модуля

1. Создать директорию модуля
2. Реализовать интерфейсы
3. Добавить в CMakeLists.txt
4. Зарегистрировать в системе

```c
// Пример кастомного модуля
typedef struct my_custom_module {
    const char* name;
    void (*init)(void);
    void (*deinit)(void);
} my_custom_module_t;
```

## Лицензия

GNU General Public License v3.0

## Поддержка

- **Документация**: [Wiki](https://wiki.cellframe.net)
- **Сообщество**: [Forum](https://forum.cellframe.net)
- **GitLab**: [Repository](https://gitlab.cellframe.net)
