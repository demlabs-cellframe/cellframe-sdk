# UTXO Blocking Documentation Scripts

ะะพะปะปะตะบัะธั ัะบัะธะฟัะพะฒ ะดะปั ัะฐะฑะพัั ั ะดะพะบัะผะตะฝัะฐัะธะตะน UTXO Blocking ะผะตัะฐะฝะธะทะผะฐ.

## ๐ ะคะฐะนะปั

| ะคะฐะนะป | ะะฟะธัะฐะฝะธะต |
|------|----------|
| `UTXO_BLOCKING_EXAMPLES.md` | ะัะฝะพะฒะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ั ะฟัะธะผะตัะฐะผะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธั UTXO blocking |
| `generate_utxo_pdf.sh` | ะกะบัะธะฟั ะดะปั ะณะตะฝะตัะฐัะธะธ PDF ะธะท markdown ะดะพะบัะผะตะฝัะฐัะธะธ |
| `verify_utxo_cli_commands.sh` | ะกะบัะธะฟั ะดะปั ะฟัะพะฒะตัะบะธ ัะพะพัะฒะตัััะฒะธั CLI ะบะพะผะฐะฝะด ะดะพะบัะผะตะฝัะฐัะธะธ |

## ๐ง ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### 1. ะะตะฝะตัะฐัะธั PDF ะดะพะบัะผะตะฝัะฐัะธะธ

ะกะบัะธะฟั `generate_utxo_pdf.sh` ะบะพะฝะฒะตััะธััะตั `UTXO_BLOCKING_EXAMPLES.md` ะฒ ะบัะฐัะธะฒะพ ะพััะพัะผะฐัะธัะพะฒะฐะฝะฝัะน PDF ัะฐะนะป.

#### ะขัะตะฑะพะฒะฐะฝะธั:

**Debian/Ubuntu:**
```bash
sudo apt-get install pandoc texlive texlive-xetex texlive-fonts-recommended texlive-latex-extra
```

**macOS (Homebrew):**
```bash
brew install pandoc
brew install --cask mactex
```

**Fedora/RHEL:**
```bash
sudo dnf install pandoc texlive texlive-xetex
```

#### ะะฐะฟััะบ:

```bash
# ะะตะฝะตัะฐัะธั PDF ั ะธะผะตะฝะตะผ ะฟะพ ัะผะพะปัะฐะฝะธั (UTXO_BLOCKING_EXAMPLES.pdf)
./generate_utxo_pdf.sh

# ะะตะฝะตัะฐัะธั PDF ั custom ะธะผะตะฝะตะผ
./generate_utxo_pdf.sh custom_filename.pdf
```

#### ะะพะทะผะพะถะฝะพััะธ:

- โ ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะณะปะฐะฒะปะตะฝะธะต (TOC)
- โ ะัะผะตัะฐัะธั ัะตะบัะธะน
- โ ะะพะดัะฒะตัะบะฐ ัะธะฝัะฐะบัะธัะฐ ะดะปั code blocks
- โ ะัะฐัะธะฒะพะต ัะพัะผะฐัะธัะพะฒะฐะฝะธะต ัะฐะฑะปะธั
- โ Unicode ะฟะพะดะดะตัะถะบะฐ (ัะตัะตะท XeLaTeX)
- โ ะะปะธะบะฐะฑะตะปัะฝัะต ัััะปะบะธ ะธ cross-references
- โ Header/footer ั ะฝะพะผะตัะฐะผะธ ัััะฐะฝะธั

### 2. ะัะพะฒะตัะบะฐ ัะพะพัะฒะตัััะฒะธั CLI ะบะพะผะฐะฝะด

ะกะบัะธะฟั `verify_utxo_cli_commands.sh` ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะพะฒะตััะตั, ััะพ:

1. ะัะต CLI ะบะพะผะฐะฝะดั ะธะท ะดะพะบัะผะตะฝัะฐัะธะธ ัะตะฐะปะธะทะพะฒะฐะฝั ะฒ ะบะพะดะต
2. ะคะพัะผะฐัั UTXO ัะพะฒะฟะฐะดะฐัั
3. TSD ัะธะฟั ะฟัะฐะฒะธะปัะฝะพ ะธัะฟะพะปัะทััััั
4. ะคะปะฐะณะธ ัะพะบะตะฝะพะฒ ะพะฟัะตะดะตะปะตะฝั ะธ ะดะพะบัะผะตะฝัะธัะพะฒะฐะฝั
5. ะขะตััั ะฟะพะบััะฒะฐัั ะพัะฝะพะฒะฝะพะน ััะฝะบัะธะพะฝะฐะป

#### ะะฐะฟััะบ:

```bash
./verify_utxo_cli_commands.sh
```

#### ะัะธะผะตั ะฒัะฒะพะดะฐ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  UTXO CLI Commands Verification Tool                      โ
โ  Cellframe SDK                                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  1. ะัะพะฒะตัะบะฐ ะฝะฐะปะธัะธั ัะฐะนะปะพะฒ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
[โ PASS] ะะพะบัะผะตะฝัะฐัะธั ะฝะฐะนะดะตะฝะฐ
[โ PASS] CLI ัะตะฐะปะธะทะฐัะธั ะฝะฐะนะดะตะฝะฐ
[โ PASS] CLI help ะฝะฐะนะดะตะฝ
[โ PASS] Integration test ะฝะฐะนะดะตะฝ
[โ PASS] CLI integration test ะฝะฐะนะดะตะฝ

...

ะะขะะะะะซะ ะะขะงะะข
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ะัะตะณะพ ะฟัะพะฒะตัะพะบ: 44
ะฃัะฟะตัะฝะพ:       38
ะัะตะดัะฟัะตะถะดะตะฝะธั: 6
ะัะธะฑะบะธ:         0

ะัะพัะตะฝั ััะฟะตัะฝัั ะฟัะพะฒะตัะพะบ: 86%

โ๏ธ  ะะกะขะฌ ะะะะะฃะะะะะะะะะฏ, ะะ ะะะะขะะงะะกะะะฅ ะะจะะะะ ะะะข
```

#### ะงัะพ ะฟัะพะฒะตััะตััั:

**โ CLI ะะฐัะฐะผะตััั:**
- `-utxo_blocked_add <tx_hash>:<out_idx>[:<timestamp>]`
- `-utxo_blocked_remove <tx_hash>:<out_idx>[:<timestamp>]`
- `-utxo_blocked_clear`

**โ ะคะพัะผะฐัั:**
- `<tx_hash>:<out_idx>` ะดะปั immediate ะฑะปะพะบะธัะพะฒะบะธ
- `<tx_hash>:<out_idx>:<timestamp>` ะดะปั delayed ะฑะปะพะบะธัะพะฒะบะธ

**โ ะคะปะฐะณะธ:**
- `UTXO_BLOCKING_DISABLED`
- `UTXO_STATIC_BLOCKLIST`

**โ TSD ะขะธะฟั:**
- `DAP_CHAIN_DATUM_TOKEN_TSD_TYPE_UTXO_BLOCKED_ADD`
- `DAP_CHAIN_DATUM_TOKEN_TSD_TYPE_UTXO_BLOCKED_REMOVE`
- `DAP_CHAIN_DATUM_TOKEN_TSD_TYPE_UTXO_BLOCKED_CLEAR`

**โ ะขะตััะพะฒะพะต ะฟะพะบัััะธะต:**
- Unit ัะตััั
- Integration ัะตััั
- CLI integration ัะตััั

**โ Use Cases:**
- Vesting/Lock-up
- Escrow
- Security Incident Response

**โ Error Handling:**
- ะะฐะปะธะดะฐัะธั UTXO ัะพัะผะฐัะฐ
- UTXO_STATIC_BLOCKLIST enforcement

## ๐ ะะตะทัะปััะฐัั ะฟะพัะปะตะดะฝะตะน ะฟัะพะฒะตัะบะธ

**ะะฐัะฐ:** 21 ะพะบััะฑัั 2025  
**ะะตััะธั:** feature/19886  
**ะกัะฐััั:** โ **PASS** (86% ััะฟะตัะฝัั ะฟัะพะฒะตัะพะบ)

### ะะตัะฐะปะธ:

| ะะฐัะตะณะพัะธั | ะฃัะฟะตัะฝะพ | ะัะตะดัะฟัะตะถะดะตะฝะธั | ะัะธะฑะบะธ |
|-----------|---------|----------------|--------|
| ะะฐะปะธัะธะต ัะฐะนะปะพะฒ | 5/5 | 0 | 0 |
| CLI ะฟะฐัะฐะผะตััั | 9/9 | 0 | 0 |
| ะคะพัะผะฐัั UTXO | 4/4 | 0 | 0 |
| ะคะปะฐะณะธ ัะพะบะตะฝะพะฒ | 4/4 | 0 | 0 |
| TSD ัะธะฟั | 6/6 | 0 | 0 |
| ะขะตััะพะฒะพะต ะฟะพะบัััะธะต | 4/8 | 4 | 0 |
| Use cases | 3/3 | 0 | 0 |
| Error handling | 2/4 | 2 | 0 |
| **ะะขะะะ** | **38/44** | **6** | **0** |

### ะัะตะดัะฟัะตะถะดะตะฝะธั:

1. โ๏ธ ะะตั explicit ัะตััะพะฒ ะดะปั `utxo_blocked_add/remove/clear` ะฒ integration test (ะตััั ะฒ CLI test)
2. โ๏ธ ะะพะบัััะธะต ัะตััะฐะผะธ 52% (ะดะพะบัะผะตะฝัะธัะพะฒะฐะฝะพ ะฒ `UTXO_CLI_COVERAGE_ANALYSIS.md`)
3. โ๏ธ ะะตั ัะตััะฐ ะดะปั ะฝะตะฒะฐะปะธะดะฝะพะณะพ ัะพัะผะฐัะฐ UTXO
4. โ๏ธ ะะตั ัะตััะฐ ะดะปั UTXO_STATIC_BLOCKLIST enforcement

**ะัะธะผะตัะฐะฝะธะต:** ะัะต ะฟัะตะดัะฟัะตะถะดะตะฝะธั ะฝะต ัะฒะปััััั ะบัะธัะธัะตัะบะธะผะธ. ะัะฝะพะฒะฝะพะน ััะฝะบัะธะพะฝะฐะป ะฟะพะปะฝะพัััั ะฟะพะบััั.

## ๐ Workflow ะดะปั ัะฐะทัะฐะฑะพััะธะบะพะฒ

### ะัะธ ะธะทะผะตะฝะตะฝะธะธ ะดะพะบัะผะตะฝัะฐัะธะธ:

1. ะััะตะดะฐะบัะธััะนัะต `UTXO_BLOCKING_EXAMPLES.md`
2. ะัะพะฒะตัััะต ัะพะพัะฒะตัััะฒะธะต ัะตะฐะปะธะทะฐัะธะธ:
   ```bash
   ./verify_utxo_cli_commands.sh
   ```
3. ะกะณะตะฝะตัะธััะนัะต ะฝะพะฒัะน PDF:
   ```bash
   ./generate_utxo_pdf.sh
   ```
4. ะะฐะบะพะผะผะธัััะต ะธะทะผะตะฝะตะฝะธั:
   ```bash
   git add UTXO_BLOCKING_EXAMPLES.md UTXO_BLOCKING_EXAMPLES.pdf
   git commit -m "docs: update UTXO blocking documentation"
   ```

### ะัะธ ะธะทะผะตะฝะตะฝะธะธ CLI ะบะพะผะฐะฝะด:

1. ะะฑะฝะพะฒะธัะต ัะตะฐะปะธะทะฐัะธั ะฒ `modules/net/dap_chain_node_cli_cmd.c`
2. ะะฑะฝะพะฒะธัะต help ะฒ `modules/net/dap_chain_node_cli.c`
3. ะะฐะฟัััะธัะต ะฟัะพะฒะตัะบั:
   ```bash
   ./verify_utxo_cli_commands.sh
   ```
4. ะัะปะธ ะฟะพัะฒะธะปะธัั ัะฐััะพะถะดะตะฝะธั, ะพะฑะฝะพะฒะธัะต ะดะพะบัะผะตะฝัะฐัะธั
5. ะะฑะฝะพะฒะธัะต ัะตััั ะฟัะธ ะฝะตะพะฑัะพะดะธะผะพััะธ

### ะัะธ ะดะพะฑะฐะฒะปะตะฝะธะธ ะฝะพะฒัั ัะตััะพะฒ:

1. ะะพะฑะฐะฒััะต ัะตััั ะฒ ัะพะพัะฒะตัััะฒัััะธะต ัะฐะนะปั:
   - `tests/unit/utxo_blocking_unit_test.c` ะดะปั unit ัะตััะพะฒ
   - `tests/integration/utxo_blocking_integration_test.c` ะดะปั ledger ัะตััะพะฒ
   - `tests/integration/utxo_blocking_cli_integration_test.c` ะดะปั CLI ัะตััะพะฒ
2. ะะฐะฟัััะธัะต ะฟัะพะฒะตัะบั:
   ```bash
   cd ../../test_build && ctest -R utxo
   ```
3. ะะฑะฝะพะฒะธัะต `UTXO_CLI_COVERAGE_ANALYSIS.md` ั ะฝะพะฒัะผ ะฟัะพัะตะฝัะพะผ ะฟะพะบัััะธั

## ๐ ะกะฒัะทะฐะฝะฝัะต ัะฐะนะปั

- `../UTXO_CLI_COVERAGE_ANALYSIS.md` - ะะตัะฐะปัะฝัะน ะฐะฝะฐะปะธะท ะฟะพะบัััะธั ัะตััะฐะผะธ
- `../modules/net/dap_chain_node_cli_cmd.c` - ะะตะฐะปะธะทะฐัะธั CLI ะบะพะผะฐะฝะด
- `../modules/net/dap_chain_node_cli.c` - Help-ัะพะพะฑัะตะฝะธั CLI
- `../modules/common/include/dap_chain_datum_token.h` - ะะฟัะตะดะตะปะตะฝะธั ัะปะฐะณะพะฒ ะธ TSD ัะธะฟะพะฒ
- `../tests/integration/utxo_blocking_integration_test.c` - Integration ัะตััั
- `../tests/integration/utxo_blocking_cli_integration_test.c` - CLI integration ัะตััั
- `../tests/unit/utxo_blocking_unit_test.c` - Unit ัะตััั

## ๐ Troubleshooting

### ะัะธะฑะบะฐ ะฟัะธ ะณะตะฝะตัะฐัะธะธ PDF: "pandoc: command not found"

**ะะตัะตะฝะธะต:** ะฃััะฐะฝะพะฒะธัะต pandoc:
```bash
# Debian/Ubuntu
sudo apt-get install pandoc

# macOS
brew install pandoc
```

### ะัะธะฑะบะฐ ะฟัะธ ะณะตะฝะตัะฐัะธะธ PDF: "pdflatex: command not found"

**ะะตัะตะฝะธะต:** ะฃััะฐะฝะพะฒะธัะต LaTeX:
```bash
# Debian/Ubuntu
sudo apt-get install texlive texlive-xetex

# macOS
brew install --cask mactex
```

### ะกะบัะธะฟั verify_utxo_cli_commands.sh ะฝะต ะฝะฐัะพะดะธั ัะฐะนะปั

**ะะตัะตะฝะธะต:** ะฃะฑะตะดะธัะตัั, ััะพ ะฒั ะทะฐะฟััะบะฐะตัะต ัะบัะธะฟั ะธะท ะดะธัะตะบัะพัะธะธ `docs/`:
```bash
cd cellframe-sdk/docs
./verify_utxo_cli_commands.sh
```

### ะัะตะดัะฟัะตะถะดะตะฝะธั ะพ ะฟะพะบัััะธะธ ัะตััะฐะผะธ

**ะญัะพ ะฝะพัะผะฐะปัะฝะพ!** ะขะตะบััะตะต ะฟะพะบัััะธะต 52% ัะฒะปัะตััั ะดะพััะฐัะพัะฝัะผ ะดะปั ะพัะฝะพะฒะฝะพะณะพ ััะฝะบัะธะพะฝะฐะปะฐ. ะะตัะฐะปัะฝัะน ะฐะฝะฐะปะธะท ัะผ. ะฒ `UTXO_CLI_COVERAGE_ANALYSIS.md`.

## ๐ Changelog

### 2025-10-21
- โ ะกะพะทะดะฐะฝ `generate_utxo_pdf.sh` - ะณะตะฝะตัะฐัะธั PDF ะธะท markdown
- โ ะกะพะทะดะฐะฝ `verify_utxo_cli_commands.sh` - ะฐะฒัะพะผะฐัะธัะตัะบะฐั ะฟัะพะฒะตัะบะฐ ัะพะพัะฒะตัััะฒะธั
- โ ะัะต ะฟัะพะฒะตัะบะธ ะฟัะพัะพะดัั ััะฟะตัะฝะพ (86%)
- โ ะะพะบัะผะตะฝัะธัะพะฒะฐะฝะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ัะบัะธะฟัะพะฒ

## ๐ฅ ะะฒัะพัั

**Cellframe Development Team**  
https://gitlab.demlabs.net/cellframe/cellframe-sdk

## ๐ ะะธัะตะฝะทะธั

ะกะผ. `../LICENSE` ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ.

